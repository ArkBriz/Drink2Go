var c=document.querySelector(".nav"),u=c.querySelector(".nav__toggler");c.classList.remove("nav--no-js");u.addEventListener("click",()=>{c.classList.toggle("nav--closed"),c.classList.toggle("nav--open")});var o=document.querySelector(".offer-slider"),x=o.querySelector(".slider-prev"),_=o.querySelector(".slider-next"),d=o.querySelector(".offer-slider__image"),v=o.querySelector("source"),y=o.querySelector(".offer-slider__name"),S=o.querySelector(".offer-slider__description"),w=o.querySelector(".offer-slider__price-old del"),I=o.querySelector(".offer-slider__price-new"),n=o.querySelectorAll(".offer-slider__pagination-button"),g={ACTIVE:0,DISACTIVE:-1},t=0,s=[{photo1:"images/flat-white@1x.png",photo3:"images/flat-white@1x.webp",photo2:"images/flat-white@2x.png",photo4:"images/flat-white@2x.webp"},{photo1:"images/lavender@1x.png",photo2:"images/lavender@2x.png",photo3:"images/lavender@1x.webp",photo4:"images/lavender@2x.webp"},{photo1:"images/espresso@1x.png",photo2:"images/espresso@2x.png",photo3:"images/espresso@1x.webp",photo4:"images/espresso@2x.webp"}],b=["\u0414\u0435\u043A\u0430\u0444 \u0424\u043B\u044D\u0442 \u0423\u0430\u0439\u0442","\u041B\u0430\u0432\u0430\u043D\u0434\u043E\u0432\u044B\u0439 \u041B\u0430\u0442\u0442\u0435","\u0422\u0440\u043E\u0439\u043D\u043E\u0439 \u042D\u0441\u043F\u0440\u0435\u0441\u0441\u043E"],q=["\u0421\u0432\u0435\u0436\u0435\u0441\u0432\u0430\u0440\u0435\u043D\u043D\u044B\u0439 \u043A\u043E\u0444\u0435 \u0431\u0435\u0437 \u043A\u043E\u0444\u0435\u0438\u043D\u0430 \u0438\u0437 \u042D\u0444\u0438\u043E\u043F\u0438\u0438<br> \u0441 \u043D\u0430\u0442\u0443\u0440\u0430\u043B\u044C\u043D\u044B\u043C \u0444\u0435\u0440\u043C\u0435\u0440\u0441\u043A\u0438\u043C \u043C\u043E\u043B\u043E\u043A\u043E\u043C \u2014 \u0442\u043E, \u0447\u0442\u043E \u043D\u0443\u0436\u043D\u043E<br> \u0434\u043B\u044F \u0440\u0430\u0441\u0441\u043B\u0430\u0431\u043B\u0435\u043D\u0438\u044F \u043F\u043E\u0441\u043B\u0435 \u0442\u044F\u0436\u0451\u043B\u043E\u0433\u043E \u0440\u0430\u0431\u043E\u0447\u0435\u0433\u043E \u0434\u043D\u044F","\u041D\u0435\u0432\u0435\u0440\u043E\u044F\u0442\u043D\u043E\u0435 \u0441\u043E\u0447\u0435\u0442\u0430\u043D\u0438\u0435 \u043F\u0435\u0440\u0443\u0430\u043D\u0441\u043A\u043E\u0439 \u0432\u044B\u0441\u043E\u043A\u043E\u0433\u043E\u0440\u043D\u043E\u0439 \u0430\u0440\u0430\u0431\u0438\u043A\u0438 \u0441 \u043C\u043E\u043B\u043E\u043A\u043E\u043C \u043B\u0430\u043C\u044B \u0438 \u043B\u0430\u0432\u0430\u043D\u0434\u043E\u0432\u044B\u043C \u0441\u0438\u0440\u043E\u043F\u043E\u043C \u0443\u043D\u0435\u0441\u0451\u0442 \u0432\u0430\u0441 \u043F\u0440\u044F\u043C\u043E \u043D\u0430 \u0432\u0435\u0440\u0448\u0438\u043D\u0443 \u0420\u0430\u0434\u0443\u0436\u043D\u044B\u0445 \u0433\u043E\u0440","\u041C\u043E\u0449\u043D\u0435\u0435 \u0443\u043A\u043E\u043B\u0430 \u0430\u0434\u0440\u0435\u043D\u0430\u043B\u0438\u043D\u0430, \u0447\u0435\u0440\u043D\u0435\u0435 \u0441\u0430\u043C\u043E\u0439 \u0442\u0451\u043C\u043D\u043E\u0439 \u043D\u043E\u0447\u0438, \u044D\u0442\u043E\u0442 \u0442\u0440\u043E\u0439\u043D\u043E\u0439 \u044D\u0441\u043F\u0440\u0435\u0441\u0441\u043E \u0438\u0437 \u041A\u043E\u043B\u0443\u043C\u0431\u0438\u0438 \u043F\u043E\u043A\u0430\u0436\u0435\u0442 \u0432\u0430\u043C, \u0447\u0442\u043E \u0442\u0430\u043A\u043E\u0435 \u043D\u0430\u0441\u0442\u043E\u044F\u0449\u0430\u044F \u0431\u043E\u0434\u0440\u043E\u0441\u0442\u044C"],k=["295\u20BD","285\u20BD","395\u20BD"],E=["225\u20BD","265\u20BD","375\u20BD"],i=e=>{let r=(e+1)%s.length,a=(e-1+s.length)%s.length;return{nextIndex:r,prevIndex:a}},l=e=>{n.forEach(r=>{r.classList.remove("offer-slider__pagination-button--current"),r.tabIndex=g.ACTIVE}),n[e].classList.add("offer-slider__pagination-button--current"),n[e].tabIndex=g.DISACTIVE},p=e=>{y.textContent=b[e],S.innerHTML=q[e],w.textContent=k[e],I.textContent=E[e],d.src=s[e].photo1,d.srcset=`${s[e].photo2} 2x`,v.srcset=`${s[e].photo3} 1x, ${s[e].photo4} 2x`};_.addEventListener("click",()=>{t=(t+1)%s.length;let{prevIndex:e}=i(t);o.classList.remove(`offer-slider--${e}`),o.classList.add(`offer-slider--${t}`),p(t),l(t)});x.addEventListener("click",()=>{t=(t-1+s.length)%s.length;let{nextIndex:e}=i(t);o.classList.remove(`offer-slider--${e}`),o.classList.add(`offer-slider--${t}`),p(t),l(t)});n.forEach((e,r)=>{e.addEventListener("click",()=>{t=r;let{nextIndex:a,prevIndex:m}=i(t);o.classList.remove(`offer-slider--${a}`),o.classList.remove(`offer-slider--${m}`),o.classList.add(`offer-slider--${t}`),p(t),l(t)})});var $=document.querySelector(".catalog__filters");$.addEventListener("keydown",e=>{e.key==="Enter"&&e.target.type==="checkbox"&&(e.preventDefault(),e.target.checked=!e.target.checked)});var C=document.querySelector(".map__container"),f={lat:59.96836,lng:30.31755},P=20;C.classList.remove("map__container--no-js");var h=L.map("map").setView(f,P);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(h);var T=L.icon({iconUrl:"./icons/stack.svg#pin",iconSize:[38,50],iconAnchor:[19,50]}),A=L.marker(f,{icon:T});A.addTo(h);
